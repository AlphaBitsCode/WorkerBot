/* Copyright (C) 2023 by WorkerBot.AI */
!function e(t,u,n){function r(o,i){if(!u[o]){if(!t[o]){var s="function"==typeof require&&require;if(!i&&s)return s(o,!0);if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=u[o]={exports:{}};t[o][0].call(c.exports,(function(e){return r(t[o][1][e]||e)}),c,c.exports,e,t,u,n)}return u[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(require,module,exports){"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return e};var e={},t=Object.prototype,u=t.hasOwnProperty,n=Object.defineProperty||function(e,t,u){e[t]=u.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function s(e,t,u){return Object.defineProperty(e,t,{value:u,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,u){return e[t]=u}}function l(e,t,u,r){var a=t&&t.prototype instanceof p?t:p,o=Object.create(a.prototype),i=new v(r||[]);return n(o,"_invoke",{value:E(e,u,i)}),o}function c(e,t,u){try{return{type:"normal",arg:e.call(t,u)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function p(){}function w(){}function b(){}var f={};s(f,a,(function(){return this}));var _=Object.getPrototypeOf,g=_&&_(_(x([])));g&&g!==t&&u.call(g,a)&&(f=g);var A=b.prototype=p.prototype=Object.create(f);function m(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function h(e,t){function r(n,a,o,i){var s=c(e[n],e,a);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==_typeof(d)&&u.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,i)}),(function(e){r("throw",e,o,i)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,i)}))}i(s.arg)}var a;n(this,"_invoke",{value:function(e,u){function n(){return new t((function(t,n){r(e,u,t,n)}))}return a=a?a.then(n,n):n()}})}function E(e,t,u){var n="suspendedStart";return function(r,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw a;return F()}for(u.method=r,u.arg=a;;){var o=u.delegate;if(o){var i=C(o,u);if(i){if(i===d)continue;return i}}if("next"===u.method)u.sent=u._sent=u.arg;else if("throw"===u.method){if("suspendedStart"===n)throw n="completed",u.arg;u.dispatchException(u.arg)}else"return"===u.method&&u.abrupt("return",u.arg);n="executing";var s=c(e,t,u);if("normal"===s.type){if(n=u.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:u.done}}"throw"===s.type&&(n="completed",u.method="throw",u.arg=s.arg)}}}function C(e,t){var u=t.method,n=e.iterator[u];if(void 0===n)return t.delegate=null,"throw"===u&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==u&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+u+"' method")),d;var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function y(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function v(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(u.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:F}}function F(){return{value:void 0,done:!0}}return w.prototype=b,n(A,"constructor",{value:b,configurable:!0}),n(b,"constructor",{value:w,configurable:!0}),w.displayName=s(b,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,i,"GeneratorFunction")),e.prototype=Object.create(A),e},e.awrap=function(e){return{__await:e}},m(h.prototype),s(h.prototype,o,(function(){return this})),e.AsyncIterator=h,e.async=function(t,u,n,r,a){void 0===a&&(a=Promise);var o=new h(l(t,u,n,r),a);return e.isGeneratorFunction(u)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},m(A),s(A,i,"Generator"),s(A,a,(function(){return this})),s(A,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),u=[];for(var n in t)u.push(n);return u.reverse(),function e(){for(;u.length;){var n=u.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=x,v.prototype={constructor:v,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(y),!e)for(var t in this)"t"===t.charAt(0)&&u.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(u,n){return o.type="throw",o.arg=e,t.next=u,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var i=u.call(a,"catchLoc"),s=u.call(a,"finallyLoc");if(i&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(i){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&u.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var u=this.tryEntries[t];if(u.finallyLoc===e)return this.complete(u.completion,u.afterLoc),y(u),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var u=this.tryEntries[t];if(u.tryLoc===e){var n=u.completion;if("throw"===n.type){var r=n.arg;y(u)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,u){return this.delegate={iterator:x(e),resultName:t,nextLoc:u},"next"===this.method&&(this.arg=void 0),d}},e}function _createForOfIteratorHelper(e,t){var u="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!u){if(Array.isArray(e)||(u=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){u&&(e=u);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,i=!1;return{s:function(){u=u.call(e)},n:function(){var e=u.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==u.return||u.return()}finally{if(i)throw a}}}}function asyncGeneratorStep(e,t,u,n,r,a,o){try{var i=e[a](o),s=i.value}catch(e){return void u(e)}i.done?t(s):Promise.resolve(s).then(n,r)}function _asyncToGenerator(e){return function(){var t=this,u=arguments;return new Promise((function(n,r){var a=e.apply(t,u);function o(e){asyncGeneratorStep(a,n,r,o,i,"next",e)}function i(e){asyncGeneratorStep(a,n,r,o,i,"throw",e)}o(void 0)}))}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var u=Object.prototype.toString.call(e).slice(8,-1);return"Object"===u&&e.constructor&&(u=e.constructor.name),"Map"===u||"Set"===u?Array.from(e):"Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var u=0,n=new Array(t);u<t;u++)n[u]=e[u];return n}setTimeout((function(){jQuery.noConflict(),function($,_window$workerbot_aut,_window$workerbot_aut2){if(!window.workerbot_automator_settings||window.workerbot_automator_settings.active_ext){var session_db_links=idbStorage.getItem("wb_crawled_links-"+new URL(window.location.href).hostname.replace(".","_"));if(session_db_links&&"undefined"!=session_db_links)var db_links=JSON.parse(idbStorage.getItem("wb_crawled_links-"+new URL(window.location.href).hostname.replace(".","_")));else{var db_links=[];idbStorage.setItem("wb_crawled_links-"+new URL(window.location.href).hostname.replace(".","_"),JSON.stringify(db_links))}var crawl_stop=!1,scrape_stop=!1,apizer_stop=!1,apizer_output={},apizer_key="apizer_"+new URL(window.location.href).hostname.replace(".","_")+"-"+window.workerbot_automator_settings.uid.slice(-8),divwindow=document.createElement("div");divwindow.id="mainwin",divwindow.className="easyui-window",divwindow.title="WorkerBot Automator",divwindow.setAttribute("data-options","iconCls:'fa fa-regular fa-robot fa-1x', closable: false, left:".concat(eval(window.innerWidth-900),", top:").concat(document.documentElement.scrollTop+10)),divwindow.style="width:850px; height:auto; padding:10px;",divwindow.innerHTML='\n    <div id="mainwin-tabs" class="easyui-tabs" style="width:100%;height:auto;">\n      <div id="wb-spider-tab" title="Spider" data-options="iconCls:\'fa fa-spider-web fa-1x\'" style="padding: 20px;display: flex; flex-direction: column; column-gap: 20px; row-gap: 5px; justify-content: space-between;">\n          <p style="font-size: 13px; font-weight: bolder; margin:0; padding:0">Spider</p>\n          <p style="font-size: 12px; font-weight: bolder; margin:0; padding:0">Crawl links from website, this DB Links will pass to Scraper for data scrape</p>\n          <div style="display: flex; flex-direction: row; column-gap: 10px; row-gap: 10px; justify-content: left;">\n            <style>\n                #wb-crawl-rule, #wb-scrape-rule, #wb-apizer-rule { \n                    position: relative;\n                    width: 100%;\n                    height: 300px;\n                    top: 0;\n                    right: 0;\n                    bottom: 0;\n                    left: 0;\n                }\n                #wb-apizer-output, #wb-apizer-input { \n                  position: relative;\n                  width: 100%;\n                  height: 180px;\n                  top: 0;\n                  right: 0;\n                  bottom: 0;\n                  left: 0;\n              }\n            </style>\n            <div style="width: 50%">\n            <p style="font-size: 12px; margin:0; padding:0">Crawl Rules:</p>\n            <p style="font-size: 11px; margin:0; padding:0">rules define as a function return boolean value, true will crawl that url and false will skip that url, variable \'current_url\' is current crawl url, we doing checking this url is satisfied to crawl or not</p>\n<div id="wb-crawl-rule">if(current_url.search(/.+/) != -1){\n  return true\n}else{\n  return false\n}</div>\n            </div>\n            <div style="width: 50%">\n            <p style="font-size: 12px; margin:0; padding:0">Scrape Rules:</p>\n            <p style="font-size: 11px; margin:0; padding:0">rules define as a IIF function containt multiple document.querySelector to extract content from webpage DOM that replace document.body.innerHTML with formated plaintext</p>\n<div id="wb-scrape-rule">(() => {\n  /*clean text for all page*/\n})()</div>\n            </div>\n          </div>\n          <div style="display: flex; flex-direction: row; column-gap: 10px; row-gap: 10px; justify-content: left;">\n            <p style="font-size: 12px; margin:0; padding:0">Scrape when Crawl:</p>\n            <input id="wb-is-scrape" class="easyui-checkbox" name="wb-is-scrape" value="true" style="width: auto">\n            <p style="font-size: 12px; margin:0; padding:0">Auto Crawl:</p>\n            <input id="wb-is-auto-crawl" class="easyui-checkbox" name="wb-is-auto-crawl" value="true" style="width: auto">\n            <p style="font-size: 12px; margin:0; padding:0">Crawl Threads</p>\n            <input id="wb-crawl-thread" class="easyui-numberbox" style="width:50px; height: 20px" data-options="value:2,min:1,max:100">\n          </div>\n          <div style="display: flex; flex-direction: row; column-gap: 10px; row-gap: 10px; justify-content: left;">\n            <a id="wb-btn-crawl" href="javascript:void(0)" class="easyui-linkbutton" data-options="iconCls:\'icon-search\'">Crawl Start</a>\n            <a id="wb-btn-scrape" href="javascript:void(0)" class="easyui-linkbutton" data-options="iconCls:\'icon-filter\'">Scrape Start</a>\n            <a id="wb-btn-crawl-stop" href="javascript:void(0)" class="easyui-linkbutton" data-options="iconCls:\'icon-cancel\'">Stop</a>\n            <a id="wb-btn-sync" href="javascript:void(0)" class="easyui-linkbutton" data-options="iconCls:\'icon-reload\'">Sync</a>\n          </div>\n          <p id="wb-sync-status" style="font-size: 12px; margin:0; padding:0">Sync to WorkerBot | Sync type: <b>'.concat(window.workerbot_automator_settings.create_or_update_datasource,"</b> | Dataset: <b>").concat(null===(_window$workerbot_aut=window.workerbot_automator_settings.dataset_name)||void 0===_window$workerbot_aut?void 0:_window$workerbot_aut.replace(/(.{30})..+/,"$1…"),"</b> | Datasource: <b>").concat(null===(_window$workerbot_aut2=window.workerbot_automator_settings.datasource_name)||void 0===_window$workerbot_aut2?void 0:_window$workerbot_aut2.replace(/(.{30})..+/,"$1…"),'</b> | Status: <b>not sync newest</b></p>\n          <p id="wb-crawl-status" style="font-size: 12px; margin:0; padding:0">Crawl Status: not start</p>\n          <style>\n            .datagrid-cell{\n              font-size:11px;\n            }\n            .datagrid-toolbar table td {\n              padding: 0px;\n            }\n            .datagrid-toolbar .l-btn-text{\n              font-size:11px !important;\n            }\n            .easyui-linkbutton .l-btn-text{\n              font-size:12px !important;\n            }\n            .datagrid-pager span {\n              font-size: 11px;\n            }\n            .datagrid-pager .pagination-info{\n              font-size: 11px;\n            }\n            .datagrid-view .datagrid-editable-input {\n              color: #000000;\n            }\n            .datagrid textarea, .datagrid .textbox {\n              color: #000000;\n              height: 213px !important;\n            }\n          </style>\n          <table id="wb-datagrid-spider" title="DataGrid" style="height:auto; font-size: 10px;"></table>\n      </div>\n      <div id="wb-apizer-tab"  title="APIzer" data-options="iconCls:\'fa fa-solid fa-bolt-auto fa-1x\'" style="padding: 20px;display: flex; flex-direction: column; column-gap: 20px; row-gap: 5px; justify-content: space-between;">\n        <p style="font-size: 12px; margin:0; padding:0">APIzer Input example:</p>\n<div id="wb-apizer-input">{\n  "api_key": "').concat(apizer_key,'",\n  "content": "WorkerBot AI"\n}</div>\n        <p style="font-size: 12px; margin:0; padding:0">DOM Inspector (use these tool to select DOM target for action below):</p>\n        <div style="display: flex; flex-direction: row; column-gap: 10px; row-gap: 10px; justify-content: left;">\n          <a id="wb-btn-dom-inspector-start" href="javascript:void(0)" class="easyui-linkbutton" data-options="iconCls:\'fa fa-solid fa-eye-dropper fa-1x\'">Start Inspector</a>\n          <a id="wb-btn-dom-inspector-stop" href="javascript:void(0)" class="easyui-linkbutton" data-options="iconCls:\'fa fa-regular fa-eye-dropper fa-1x\'">Stop Inspector</a>\n        </div>\n        <p style="font-size: 12px; margin:0; padding:0">APIzer Rules:</p>\n        <p style="font-size: 11px; margin:0; padding:0">rules define as a IIFE function containt multiple javascript action query and interact with Web DOM to extract content from webpage DOM and set to variable <b>window.apizer_output={...}</b> to response back to API Caller, rules also can access "input.<property>" as API inputs from API Caller</p>\n<div id="wb-apizer-rule">//access API inputs from API Caller\nvar content = input.content\nconsole.log("APIzer Input:", input)\n/*Your APIzer Rules & Actions Here - use inspector above to make action on DOM*/\n/*Format special "apizer_output" variable for APIzer Response to caller*/\nwindow.apizer_output = {\n  "title": document.querySelector("title").innerText,\n  "description": document.querySelector("meta[name=\'description\']").getAttribute("content"),\n  "url": window.location.href,\n  "content": document.body.innerText\n};</div>\n        <div style="display: flex; flex-direction: row; column-gap: 10px; row-gap: 10px; justify-content: left;">\n          <a id="wb-btn-import-apirule" href="javascript:void(0)" class="easyui-linkbutton" data-options="iconCls:\'fa fa-file-import fa-1x\'">Import</a>\n          <a id="wb-btn-export-apirule" href="javascript:void(0)" class="easyui-linkbutton" data-options="iconCls:\'fa fa-file-export fa-1x\'">Export</a>\n          <a id="wb-btn-load-apirule" href="javascript:void(0)" class="easyui-linkbutton" data-options="iconCls:\'icon-reload\'">Load</a>\n          <a id="wb-btn-save-apirule" href="javascript:void(0)" class="easyui-linkbutton" data-options="iconCls:\'icon-save\'">Save</a>\n          <a id="wb-btn-test-apirule" href="javascript:void(0)" class="easyui-linkbutton" data-options="iconCls:\'icon-search\'">Test</a>\n          <a id="wb-btn-apizer-start" href="javascript:void(0)" class="easyui-linkbutton" data-options="iconCls:\'icon-tip\'">APIze Start</a>\n          <a id="wb-btn-apizer-stop" href="javascript:void(0)" class="easyui-linkbutton" data-options="iconCls:\'icon-cancel\'">APIze Stop</a>\n          <a id="wb-btn-apizer-clear-output" href="javascript:void(0)" class="easyui-linkbutton" data-options="iconCls:\'icon-clear\'">Clear Output</a>\n        </div>\n        <p style="font-size: 12px; margin:0; padding:0">API Endpoint: <a target=_blank href=\'https://apizer.workerbot.ai\'>https://apizer.workerbot.ai</a></p>\n        <p style="font-size: 11px; margin:0; padding:0">API-KEY:</p>\n        <input id="wb-txt-api-key" class="easyui-textbox" data-options="iconCls:\'fa fa-solid fa-clipboard fa-2x\', editable: false" style="font-size: 10px; width: 300px; height: 33px;" value="').concat(apizer_key,'">\n        <p id="wb-apizer-status" style="font-size: 12px; margin:0; padding:0">APIzer Status: not start</p>\n        <p style="font-size: 12px; margin:0; padding:0">APIzer Output:</p>\n<div id="wb-apizer-output">{\n  "message": "APIzer Output Here"\n}</div>\n      </div>\n    </div>\n  '),document.body.appendChild(divwindow),$.parser.parse();var wb_crawl_rule_editor=ace.edit("wb-crawl-rule");wb_crawl_rule_editor.setTheme("ace/theme/monokai"),wb_crawl_rule_editor.session.setMode("ace/mode/javascript"),wb_crawl_rule_editor.session.setUseWrapMode(!0);var wb_scrape_rule_editor=ace.edit("wb-scrape-rule");wb_scrape_rule_editor.setTheme("ace/theme/monokai"),wb_scrape_rule_editor.session.setMode("ace/mode/javascript"),wb_scrape_rule_editor.session.setUseWrapMode(!0),wb_scrape_rule_editor.setValue(atob("LypjbGVhbiB0ZXh0IGZvciBhbGwgcGFnZSovCgljb25zdCBhbmFseXplQ29udGVudCA9IGNvbnRlbnQgPT4gKChzZW50ZW5jZXMgPSBjb250ZW50LnNwbGl0KCdcbicpLCBzZW50ZW5jZUxlbmd0aHMgPSBzZW50ZW5jZXMubWFwKHMgPT4gcy5sZW5ndGgpLCBrTWVhbnMgPSAoZGF0YSwgaykgPT4geyBsZXQgY2VudHJvaWRzID0gZGF0YS5zbGljZSgwLCBrKSwgcHJldkNlbnRyb2lkcyA9IFtdLCBjbHVzdGVycyA9IFtdOyB3aGlsZSAoIWNlbnRyb2lkcy5ldmVyeSgodiwgaSkgPT4gdiA9PT0gcHJldkNlbnRyb2lkc1tpXSkpIHsgW3ByZXZDZW50cm9pZHMsIGNsdXN0ZXJzXSA9IFtjZW50cm9pZHMuc2xpY2UoKSwgZGF0YS5tYXAodiA9PiAoeyB2LCBjOiBjZW50cm9pZHMucmVkdWNlKChtaSwgYywgaSkgPT4gTWF0aC5hYnMoYyAtIHYpIDwgTWF0aC5hYnMoY2VudHJvaWRzW21pXSAtIHYpID8gaSA6IG1pLCAwKSB9KSldOyBjZW50cm9pZHMgPSBBcnJheShrKS5maWxsKDApLm1hcCgoXywgaSkgPT4geyBjb25zdCBzID0gY2x1c3RlcnMuZmlsdGVyKCh7IGMgfSkgPT4gYyA9PT0gaSkucmVkdWNlKChzLCB7IHYgfSkgPT4gcyArIHYsIDApOyBjb25zdCBjb3VudCA9IGNsdXN0ZXJzLmZpbHRlcigoeyBjIH0pID0+IGMgPT09IGkpLmxlbmd0aDsgcmV0dXJuIGNvdW50ID4gMCA/IHMgLyBjb3VudCA6IDA7IH0pOyB9IHJldHVybiBjbHVzdGVyczsgfSwgayA9IDMsIGNsdXN0ZXJzID0ga01lYW5zKHNlbnRlbmNlTGVuZ3RocywgayksIGF2Z3MgPSBjbHVzdGVycy5yZWR1Y2UoKGF2Z3MsIHsgdiwgYyB9KSA9PiAoYXZnc1tjXSA9ICgoYXZnc1tjXSB8fCAwKSAqIChhdmdzWydjJyArIGNdIHx8IDApICsgdikgLyAoYXZnc1snYycgKyBjXSA9IChhdmdzWydjJyArIGNdIHx8IDApICsgMSksIGF2Z3MpLCB7fSksIHRvcDNBdmdzID0gT2JqZWN0LmtleXMoYXZncykuZmlsdGVyKGsgPT4gIWsuc3RhcnRzV2l0aCgnYycpKS5tYXAoayA9PiBbaywgYXZnc1trXV0pLnNvcnQoKGEsIGIpID0+IGJbMV0gLSBhWzFdKS5zbGljZSgwLCAzKSwgeyBjbHVzdGVyczogY2x1c3RlcnMubWFwKCh7IHYsIGMgfSwgaSkgPT4gKHsgc2VudGVuY2VMZW5ndGg6IHYsIHNlbnRlbmNlOiBzZW50ZW5jZXNbaV0sIGNsdXN0ZXI6IGMgfSkpLCB0b3AzQXZlcmFnZUxlbmd0aHM6IHRvcDNBdmdzLm1hcCgoW2MsIGF2Z10pID0+ICh7IGNsdXN0ZXI6IGMsIGF2ZXJhZ2U6IGF2ZyB9KSkgfSkpOwoJcGFnZUNvbnRlbnQgPSBkb2N1bWVudC5ib2R5LmlubmVyVGV4dC5yZXBsYWNlKC88W14+XSo+fHtbXn1dKn18QFtee10qXHtbXn1dKn18IWZ1bmN0aW9uW157XSpce1tefV0qfXx7W159XSovZ20sICcnKS5yZXBsYWNlKC8oXHJcbnxcbnxccil7Mix9L2csJ1xuJykucmVwbGFjZSgvKFx0fFxzKXsyLH0vZywnICcpLnJlcGxhY2UoLyhccHtMbH17Mn0pKFxwe0x1fSkvZ3UsICckMSAkMicpLnRyaW0oKTsKCXBhZ2VDb250ZW50QW5hbHl6ZWQgPSBhbmFseXplQ29udGVudChwYWdlQ29udGVudCk7CgkvKnNvcnQgYXZlcmFnZSB2YWx1ZSBhc2NlbmRpbmcqLwoJcGFnZUNvbnRlbnRBbmFseXplZC50b3AzQXZlcmFnZUxlbmd0aHMuc29ydCgoYSxiKSA9PiBhLmF2ZXJhZ2UgLSBiLmF2ZXJhZ2UpOwoJLypwaWNrIDJuZCBvZiB0b3AtMyovCgltaW5fc2VudGVuY2VfbGVuZ3RoID0gcGFnZUNvbnRlbnRBbmFseXplZC50b3AzQXZlcmFnZUxlbmd0aHNbMV0uYXZlcmFnZQoJcmVhZGFibGVfY29udGVudCA9IHBhZ2VDb250ZW50QW5hbHl6ZWQuY2x1c3RlcnMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLnNlbnRlbmNlTGVuZ3RoID4gbWluX3NlbnRlbmNlX2xlbmd0aCkubWFwKChpdGVtKT0+aXRlbS5zZW50ZW5jZSkuam9pbigiICIpOwoJZG9jdW1lbnQuYm9keS5pbm5lckhUTUwgPSByZWFkYWJsZV9jb250ZW50Ow=="));var wb_apizer_rule_editor=ace.edit("wb-apizer-rule");wb_apizer_rule_editor.setTheme("ace/theme/monokai"),wb_apizer_rule_editor.session.setMode("ace/mode/javascript"),wb_apizer_rule_editor.session.setUseWrapMode(!0);var wb_apizer_input_editor=ace.edit("wb-apizer-input");wb_apizer_input_editor.setTheme("ace/theme/chrome"),wb_apizer_input_editor.session.setMode("ace/mode/json"),wb_apizer_input_editor.session.setUseWrapMode(!0),wb_apizer_input_editor.setReadOnly(!1),wb_apizer_input_editor.setOptions({showLineNumbers:!0,showGutter:!0});var wb_apizer_output_editor=ace.edit("wb-apizer-output");wb_apizer_output_editor.setTheme("ace/theme/chrome"),wb_apizer_output_editor.session.setMode("ace/mode/json"),wb_apizer_output_editor.session.setUseWrapMode(!0),wb_apizer_output_editor.setReadOnly(!0),wb_apizer_output_editor.setOptions({showLineNumbers:!0,showGutter:!0});var session_apizer_rule=idbStorage.getItem(apizer_key);console.log("session_apizer_rule",session_apizer_rule),session_apizer_rule&&(session_apizer_rule.rule&&wb_apizer_rule_editor.setValue(session_apizer_rule.rule),session_apizer_rule.input&&wb_apizer_input_editor.setValue(session_apizer_rule.input));var divtaskbar=document.createElement("div");divtaskbar.id="wb-taskbar",divtaskbar.style="position:fixed;bottom:0px;left:0px;width:100%;height:auto;z-index:9999;",document.body.appendChild(divtaskbar),$(".easyui-window").window({onMinimize:function(){var e=$(this).window("options");$('<a href="#"></a>').appendTo("#wb-taskbar").html(e.title).linkbutton({targetWindow:this,onClick:function(){var e=$(this).linkbutton("options");$(e.targetWindow).window("open"),$(e.targetWindow).window("fixed"),$(e.targetWindow).window("window").css("z-index",++$.fn.window.defaults.zIndex),$(this).remove()}})}}),$.extend($.fn.window.methods,{fixed:function(e){return e.each((function(){var e=$(this).window("options"),t=$(this).data("window").shadow;$(this).panel("options").onMove=function(u,n){var r=$(this).panel("panel");setTimeout((function(){r.add($(t)).css({position:"fixed",top:r.offset().top-$(document).scrollTop()})}),0),e.onMove.call(this,u,n)},$(this).window("window").draggable({onBeforeDrag:function(e){e.data.startTop=$(this).offset().top}}),$(this).window("move")}))},unfixed:function(e){return e.each((function(){$(this).window("window").css({position:"absolute"}),$(this).data("window").shadow.css({position:"absolute"})}))}}),$("#mainwin").window("fixed"),window.workerbot_automator_settings&&window.workerbot_automator_settings.start_minimize&&$("#mainwin").window("minimize"),$("#wb-datagrid-spider").datagrid({data:db_links||[],width:"100%",height:"auto",remoteFilter:!1,remoteSort:!1,clickToEdit:!1,dblclickToEdit:!0,singleSelect:!1,checkOnSelect:!0,selectOnCheck:!0,rownumbers:!0,pagination:!0,pageSize:10,pageList:[10,20,50,100,300,500],rownumberWidth:40,columns:[[{field:"ck",width:"10",checkbox:!0,fixed:!0},{field:"url",title:"URL",width:"200",defaultWidth:100,editor:"text"},{field:"text",title:"Text",width:"200",editor:"text"},{field:"content",title:"Content",width:"300",editor:{type:"textbox",options:{height:100,multiline:!0}}}]]}).datagrid({toolbar:[{text:"Load",iconCls:"icon-reload",handler:function(){var e=idbStorage.getItem("wb_crawled_links-"+new URL(window.location.href).hostname.replace(".","_"));e?($("#wb-datagrid-spider").datagrid("loadData",JSON.parse(e)),idbStorage.setItem("wb_crawled_links-"+new URL(window.location.href).hostname.replace(".","_"),e),db_links=JSON.parse(e),$.messager.alert("Info","Loaded crawled links from Local Storage for current domain")):$.messager.alert("Info","No crawled links found in Local Storage for current domain")}},{text:"Save",iconCls:"icon-save",handler:function(){var e=$("#wb-datagrid-spider").datagrid("getAllRows");idbStorage.setItem("wb_crawled_links-"+new URL(window.location.href).hostname.replace(".","_"),JSON.stringify(e)),idbStorage.setItem("wb_crawled_links-"+new URL(window.location.href).hostname.replace(".","_"),JSON.stringify(e)),db_links=e,$.messager.alert("Info","Saved crawled links to Local Storage for current domain")}},{text:"Import",iconCls:"fa fa-file-import fa-1x",handler:function handler(){var divdialog=document.createElement("div");divdialog.id="importdialog",divdialog.className="easyui-dialog",divdialog.title="Import",divdialog.setAttribute("data-options","iconCls:'fa fa-download fa-1x', modal: true, left:".concat(eval(window.innerWidth-650),", top:10")),divdialog.style="width:400px; height:auto; padding:10px;",divdialog.innerHTML='\n            <form id="importform" method="post" enctype="multipart/form-data">\n              <input id="importfile" name="importfile" type="file" accept=".json" />\n            </form>\n          ',document.body.appendChild(divdialog),$.parser.parse(),$("#importfile").bind("change",(function(){var e=this.files[0],t=new FileReader;t.onload=function(e){db_links=[].concat(_toConsumableArray(db_links),_toConsumableArray(JSON.parse(this.result))),$("#wb-datagrid-spider").datagrid("loadData",db_links),idbStorage.setItem("wb_crawled_links-"+new URL(window.location.href).hostname.replace(".","_"),JSON.stringify(db_links)),$("#importdialog").dialog("close"),$("#importdialog").remove()},t.readAsText(e)}))}},{text:"Export",iconCls:"fa fa-file-export fa-1x",handler:function(){var e=$("#wb-datagrid-spider").datagrid("getAllRows");idbStorage.setItem("wb_crawled_links-"+new URL(window.location.href).hostname.replace(".","_"),JSON.stringify(e)),db_links=e,txt_download(JSON.stringify(e),"wb_crawled_links-"+new URL(window.location.href).hostname.replace(".","_")+".json","text/plain")}},{text:"Excel",iconCls:"fa fa-file-export fa-1x",handler:function(){var e=$("#wb-datagrid-spider").datagrid("getAllRows");idbStorage.setItem("wb_crawled_links-"+new URL(window.location.href).hostname.replace(".","_"),JSON.stringify(e)),$("#wb-datagrid-spider").datagrid("toExcel",{filename:"wb_crawled_links-"+new URL(window.location.href).hostname.replace(".","_")+".xls",worksheet:"Sheet1",fields:["url","content"],rows:e})}},{text:"Delete",iconCls:"icon-clear",handler:function(){$("#wb-datagrid-spider").datagrid("getChecked").forEach((function(e){var t=$("#wb-datagrid-spider").datagrid("getRowIndex",e);$("#wb-datagrid-spider").datagrid("deleteRow",t);var u=$("#wb-datagrid-spider").datagrid("getAllRows");idbStorage.setItem("wb_crawled_links-"+new URL(window.location.href).hostname.replace(".","_"),JSON.stringify(u)),db_links=u}))}},{text:"Clear",iconCls:"fa fa-solid fa-trash-can-slash fa-1x",handler:function(){db_links=[],$("#wb-datagrid-spider").datagrid("loadData",[]),idbStorage.setItem("wb_crawled_links-"+new URL(window.location.href).hostname.replace(".","_"),JSON.stringify(db_links)),$.messager.alert("Info","Cleared all crawled links")}},{text:"DeDup",iconCls:"icon-filter",handler:function(){var e=$("#wb-datagrid-spider").datagrid("getAllRows"),t=e.filter((function(t,u){return u===e.findIndex((function(e){return t.url===e.url}))}));$("#wb-datagrid-spider").datagrid("loadData",t),idbStorage.setItem("wb_crawled_links-"+new URL(window.location.href).hostname.replace(".","_"),JSON.stringify(t)),db_links=t,$.messager.alert("Info","Removed duplicate URLs")}},{text:"Keep filtered",iconCls:"icon-filter",handler:function(){var e=$("#wb-datagrid-spider").data("datagrid").data.filterRows;$("#wb-datagrid-spider").datagrid("loadData",e),idbStorage.setItem("wb_crawled_links-"+new URL(window.location.href).hostname.replace(".","_"),JSON.stringify(e)),db_links=e,$.messager.alert("Info","Kept only filtered rows")}},{text:"Del all filtered",iconCls:"icon-filter",handler:function(){var e=$("#wb-datagrid-spider").data("datagrid").data.filterRows,t=$("#wb-datagrid-spider").datagrid("getAllRows").filter((function(t,u){return!e.includes(t)}));$("#wb-datagrid-spider").datagrid("loadData",t),idbStorage.setItem("wb_crawled_links-"+new URL(window.location.href).hostname.replace(".","_"),JSON.stringify(t)),db_links=t,$.messager.alert("Info","Removed all filtered rows")}}]}).datagrid("enableFilter",[{field:"url",type:"text",op:["contains","equal","notequal","beginwith","endwith"]},{field:"content",type:"text",op:["contains","equal","notequal","beginwith","endwith"]}]).datagrid("enableCellEditing").datagrid("clientPaging"),$("#wb-btn-crawl").bind("click",_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,u,n,r,a,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($("#wb-is-auto-crawl").checkbox("options").checked&&0!=db_links.length){e.next=8;break}return console.log("Crawl single page"),$("#wb-crawl-status").text("Crawl Status: started - single page"),$("#wb-is-auto-crawl").checkbox("options").checked&&$("#wb-crawl-status").text("Crawl Status: wait for 1st page to crawl, then press Crawl again"),e.next=6,crawl(window.location.href);case 6:e.next=39;break;case 8:if(!($("#wb-is-auto-crawl").checkbox("options").checked&&db_links.length>0)){e.next=39;break}console.log("Crawl all pages"),$("#wb-crawl-status").text("Crawl Status: started - all pages"),t=db_links.chunk(parseInt($("#wb-crawl-thread").numberbox("getValue"))),u=_createForOfIteratorHelper(t),e.prev=13,u.s();case 15:if((n=u.n()).done){e.next=31;break}if(r=n.value,crawl_stop){e.next=25;break}return a=r.map((function(e){return crawl(e.url)})),o=r.map((function(e){return e.url})).join("<br>"),$("#wb-crawl-status").html("Total rows: ".concat(db_links.length,"<br>Crawl Status: crawling ").concat(r.length," pages<br>").concat(o)),e.next=23,Promise.all(a);case 23:e.next=29;break;case 25:return console.log("Auto Crawl stopped"),$("#wb-crawl-status").text("Crawl Status: stopped"),crawl_stop=!1,e.abrupt("break",31);case 29:e.next=15;break;case 31:e.next=36;break;case 33:e.prev=33,e.t0=e.catch(13),u.e(e.t0);case 36:return e.prev=36,u.f(),e.finish(36);case 39:case"end":return e.stop()}}),e,null,[[13,33,36,39]])})))),$("#wb-btn-scrape").bind("click",_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,u,n,r,a,o,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Scrape"),$("#wb-crawl-status").text("Scrape Status: started"),t=db_links.chunk(parseInt($("#wb-crawl-thread").numberbox("getValue"))),u=_createForOfIteratorHelper(t),e.prev=4,u.s();case 6:if((n=u.n()).done){e.next=23;break}if(r=n.value,scrape_stop){e.next=17;break}return a=r.map((function(e){return crawl(e.url,!0)})),o=r.map((function(e){return e.url})).join("<br>"),i=db_links.filter((function(e){return""!=e.content})),$("#wb-crawl-status").html("Total rows: ".concat(db_links.length,"<br>Scraped: ").concat(i.length,"<br>Not scraped yet: ").concat(db_links.length-i.length,"<br>Scrape Status: scraping ").concat(r.length," pages<br>").concat(o)),e.next=15,Promise.all(a);case 15:e.next=21;break;case 17:return console.log("Scrape stopped"),$("#wb-crawl-status").text("Scrape Status: stopped"),scrape_stop=!1,e.abrupt("break",23);case 21:e.next=6;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(4),u.e(e.t0);case 28:return e.prev=28,u.f(),e.finish(28);case 31:$("#wb-crawl-status").text("Scrape Status: DONE"),scrape_stop=!1;case 33:case"end":return e.stop()}}),e,null,[[4,25,28,31]])})))),$("#wb-btn-crawl-stop").bind("click",(function(){crawl_stop=!0,scrape_stop=!0,$("#wb-crawl-status").text("Status: stopping"),console.log("Auto Crawl stopping")})),$("#wb-btn-sync").bind("click",_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,u,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=$("#wb-datagrid-spider").datagrid("getAllRows"),(u=window.workerbot_automator_settings).datasource_type="crawled",u.content=JSON.stringify(t),u.api_key="94b9b5db9954ff5db891f8e8eea721f5","update"!=window.workerbot_automator_settings.create_or_update_datasource){e.next=10;break}if(""!=window.workerbot_automator_settings.datasource_uuid&&null!=window.workerbot_automator_settings.datasource_uuid){e.next=9;break}return $.messager.alert("Info","Please setting Datasource for Update"),e.abrupt("return");case 9:n="https://0xmain.net/api/webhooks/trigger/app_4e7db5462cf0424cae08a587b3543386/wh_322ccd99e9204fb0aff69eaa970079f1?api=true";case 10:if("create"!=window.workerbot_automator_settings.create_or_update_datasource){e.next=15;break}if(""!=window.workerbot_automator_settings.dataset_uuid&&null!=window.workerbot_automator_settings.dataset_uuid){e.next=14;break}return $.messager.alert("Info","Please setting Dataset for Create"),e.abrupt("return");case 14:n="https://0xmain.net/api/webhooks/trigger/app_4e7db5462cf0424cae08a587b3543386/wh_6dc741427daa48648603de7cd8dc9635?api=true";case 15:t.length>300&&$.messager.alert("Info","Due to heavy computing resource require, only can sync 300 rows per dataset, please reduce your Scraped content links to 300 or less"),fetch(n,{method:"POST",headers:{Accept:"application/json, application/xml, text/plain, text/html, *.*","Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(u)}).then((function(e){return e.text()})).then((function(e){var t,u;console.log("Synced done: ",e),$("#wb-sync-status").html("Sync to WorkerBot | Sync type: <b>".concat(window.workerbot_automator_settings.create_or_update_datasource,"</b> | Dataset: <b>").concat(null===(t=window.workerbot_automator_settings.dataset_name)||void 0===t?void 0:t.replace(/(.{30})..+/,"$1…"),"</b> | Datasource: <b>").concat(null===(u=window.workerbot_automator_settings.datasource_name)||void 0===u?void 0:u.replace(/(.{30})..+/,"$1…"),"</b> | Status: <b>synced</b>"))})).catch((function(e){var t,u;$("#wb-sync-status").html("Sync to WorkerBot | Sync type: <b>".concat(window.workerbot_automator_settings.create_or_update_datasource,"</b> | Dataset: <b>").concat(null===(t=window.workerbot_automator_settings.dataset_name)||void 0===t?void 0:t.replace(/(.{30})..+/,"$1…"),"</b> | Datasource: <b>").concat(null===(u=window.workerbot_automator_settings.datasource_name)||void 0===u?void 0:u.replace(/(.{30})..+/,"$1…"),'</b> | Status: <font color="red">ERROR ').concat(e,"</font>"))}));case 17:case"end":return e.stop()}}),e)})))),$("#wb-btn-import-apirule").bind("click",_asyncToGenerator(_regeneratorRuntime().mark((function _callee4(){var divdialog;return _regeneratorRuntime().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:divdialog=document.createElement("div"),divdialog.id="importdialog",divdialog.className="easyui-dialog",divdialog.title="Import",divdialog.setAttribute("data-options","iconCls:'fa fa-download fa-1x', modal: true, left:".concat(eval(window.innerWidth-650),", top:10")),divdialog.style="width:400px; height:auto; padding:10px;",divdialog.innerHTML='\n      <form id="importform" method="post" enctype="multipart/form-data">\n        <input id="importfile" name="importfile" type="file" accept=".json" />\n      </form>\n    ',document.body.appendChild(divdialog),$.parser.parse(),$("#importfile").bind("change",(function(){var e=this.files[0],t=new FileReader;t.onload=function(e){var t=JSON.parse(this.result);wb_apizer_input_editor.setValue(t.input),wb_apizer_rule_editor.setValue(t.rule),idbStorage.setItem(apizer_key,{input:wb_apizer_input_editor.getValue(),rule:wb_apizer_rule_editor.getValue()}),$("#importdialog").dialog("close"),$("#importdialog").remove()},t.readAsText(e)}));case 10:case"end":return _context4.stop()}}),_callee4)})))),$("#wb-btn-export-apirule").bind("click",_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={input:wb_apizer_input_editor.getValue(),rule:wb_apizer_rule_editor.getValue()},idbStorage.setItem(apizer_key,t),txt_download(JSON.stringify(t),apizer_key+".json","text/plain");case 3:case"end":return e.stop()}}),e)})))),$("#wb-btn-load-apirule").bind("click",_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=idbStorage.getItem(apizer_key))?(wb_apizer_input_editor.setValue(t.input),wb_apizer_rule_editor.setValue(t.rule),$.messager.alert("Info","Loaded APIzer Rule from Local Storage for current domain")):$.messager.alert("Info","No APIzer Rule found in Local Storage for current domain");case 2:case"end":return e.stop()}}),e)})))),$("#wb-btn-save-apirule").bind("click",_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:idbStorage.setItem(apizer_key,{input:wb_apizer_input_editor.getValue(),rule:wb_apizer_rule_editor.getValue()}),$.messager.alert("Info","Saved APIzer Rule to Local Storage for current domain");case 2:case"end":return e.stop()}}),e)})))),$("#wb-btn-test-apirule").bind("click",_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=JSON.stringify(wb_apizer_input_editor.getValue()),wb_apizer_output_editor.setValue(wb_apizer_output_editor.getValue()+"\n\nINPUT:\n"+wb_apizer_input_editor.getValue()),window.eval("(async (input) => {\n      input = JSON.parse(input);\n\n      ".concat(wb_apizer_rule_editor.getValue(),"\n\n    })(").concat(t,")")),wb_apizer_output_editor.setValue(wb_apizer_output_editor.getValue()+"\n\nOUTPUT:\n"+JSON.stringify(window.apizer_output,null,2));case 4:case"end":return e.stop()}}),e)})))),$("#wb-btn-apizer-start").bind("click",(function(){idbStorage.setItem(apizer_key,{input:wb_apizer_input_editor.getValue(),rule:wb_apizer_rule_editor.getValue()}),window.wb_apizer_interval=setInterval(_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,u,n,r,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=wb_apizer_rule_editor.getValue(),e.next=4,fetch("https://0xmain.net/api/webhooks/trigger/app_4e7db5462cf0424cae08a587b3543386/wh_8c691911dc174277b94a1d99ca510d03?api=true",{method:"POST",headers:{Accept:"application/json, application/xml, text/plain, text/html, *.*","Content-Type":"application/json; charset=utf-8"},body:JSON.stringify({api_key:apizer_key,uid:window.workerbot_automator_settings.uid})});case 4:return u=e.sent,e.next=7,u.json();case 7:if(n=e.sent,console.log("APIzer Job:",n),$("#wb-apizer-status").html('APIzer Status: <font color="green">[LISTENING] wait for API request at API_KEY <b>'.concat(apizer_key,"</b></font>")),null!=n.value.job){e.next=13;break}return console.log("APIzer Job not found"),e.abrupt("return");case 13:return r=n.value.job.job_uuid,a=JSON.stringify(n.value.job.input),wb_apizer_output_editor.setValue(wb_apizer_output_editor.getValue()+"\n\nINPUT:\n"+n.value.job.input),window.eval("(async (input) => {\n          input = JSON.parse(input);\n\n          ".concat(t,"\n\n        })(").concat(a,")")),e.next=19,fetch("https://0xmain.net/api/webhooks/trigger/app_4e7db5462cf0424cae08a587b3543386/wh_007227ca268c41ee9d09f890c31dcbde?api=true",{method:"POST",headers:{Accept:"application/json, application/xml, text/plain, text/html, *.*","Content-Type":"application/json; charset=utf-8"},body:JSON.stringify({api_key:apizer_key,job_uuid:r,output:window.apizer_output})});case 19:wb_apizer_output_editor.setValue(wb_apizer_output_editor.getValue()+"\n\nOUTPUT:\n"+JSON.stringify(window.apizer_output,null,2)),e.next=27;break;case 22:return e.prev=22,e.t0=e.catch(0),console.log("APIzer Error:",e.t0.message),$("#wb-apizer-status").html('APIzer Status: <font color="red">[ERROR] '.concat(e.t0.message," <br><pre>").concat(e.t0.stack,"</pre></font>")),e.abrupt("return");case 27:case"end":return e.stop()}}),e,null,[[0,22]])}))),5e3)})),$("#wb-btn-apizer-stop").bind("click",(function(){clearInterval(window.wb_apizer_interval),$("#wb-apizer-status").html('APIzer Status: <font color="orange">[STOPPED]</font>')})),$("#wb-btn-apizer-clear-output").bind("click",(function(){wb_apizer_output_editor.setValue("")})),$("#wb-txt-api-key").textbox("getIcon",0).bind("click",(function(){navigator.clipboard.writeText(apizer_key),$.messager.alert("Info","API Key copied to clipboard")})),$("#wb-btn-dom-inspector-start").bind("click",(function(){window.wb_dom_inspector=DomOutline({onClick:function(e){var t=e.tagName.toLowerCase();e.id&&(t+="#"+e.id),e.className&&(t+=("."+jQuery.trim(e.className).replace(/ /g,".")).replace(/\.\.+/g,".")),console.log(t),navigator.clipboard.writeText(t),$("#mainwin").window("expand")}}),window.wb_dom_inspector.start(),$("#mainwin").window("collapse")})),$("#wb-btn-dom-inspector-stop").bind("click",(function(){window.wb_dom_inspector.stop()}))}function crawl(){return _crawl.apply(this,arguments)}function _crawl(){return _crawl=_asyncToGenerator(_regeneratorRuntime().mark((function _callee10(){var crawl_url,scrape_only,db_links_have_content_at_crawl_url,thread_id,current_url,diviframe,iframe,iframe_loaded,max_wait,db_links_unique_rows_by_url,scraped_content,_args10=arguments;return _regeneratorRuntime().wrap((function _callee10$(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:if(crawl_url=_args10.length>0&&void 0!==_args10[0]?_args10[0]:window.location.href,scrape_only=_args10.length>1&&void 0!==_args10[1]&&_args10[1],!$("#wb-is-scrape").checkbox("options").checked&&1!=scrape_only){_context10.next=8;break}if(db_links_have_content_at_crawl_url=!1,db_links.forEach((function(e){e.url==crawl_url&&""!=e.content&&(db_links_have_content_at_crawl_url=!0)})),!db_links_have_content_at_crawl_url){_context10.next=8;break}return console.log("Skip Scrape, DB Links already have content at "+crawl_url),_context10.abrupt("return");case 8:if(thread_id=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),_context10.prev=9,""==wb_crawl_rule_editor.getValue()){_context10.next=16;break}if(current_url=crawl_url,0!=eval("(() => { ".concat(wb_crawl_rule_editor.getValue()," })()"))){_context10.next=16;break}return console.log("Crawling Rule return false, skip current url"),$("#wb-crawl-status").text("Crawl Status: skipped "+current_url),_context10.abrupt("return");case 16:_context10.next=24;break;case 18:return _context10.prev=18,_context10.t0=_context10.catch(9),console.log("Error when execute Crawling Rule:",_context10.t0),$.messager.alert("Rule Error","Error when execute Crawling Rule: "+_context10.t0).css("z-index",++$.fn.window.defaults.zIndex),crawl_stop=!0,_context10.abrupt("return");case 24:diviframe=document.createElement("div"),diviframe.id="winiframe_"+thread_id,diviframe.className="easyui-window",diviframe.title="WorkerBot Spider Loader",diviframe.setAttribute("data-options","iconCls:'fa fa-regular fa-robot fa-1x', closable: false, left:0, top:50"),diviframe.style="width:".concat(window.innerWidth-15,"px; height:").concat(window.innerWidth-100,"px; padding: 0px;"),diviframe.innerHTML='<iframe id="wb-iframe_'.concat(thread_id,'" src="').concat(crawl_url,'" frameborder="0" style="border:none; margin:0; padding:0; overflow:hidden; width:').concat(window.innerWidth-15,"px; height:").concat(window.innerHeight-100,'px;"></iframe>'),document.body.appendChild(diviframe),$("#winiframe_"+thread_id).window(),$("#winiframe_"+thread_id).window({onMinimize:function(){var e=$(this).window("options");$('<a href="#"></a>').appendTo("#wb-taskbar").html(e.title).linkbutton({targetWindow:this,onClick:function(){var e=$(this).linkbutton("options");$(e.targetWindow).window("open"),$(e.targetWindow).window("fixed"),$(this).remove()}})}}),iframe=document.getElementById("wb-iframe_"+thread_id),iframe.contentWindow.setInterval((function(){try{iframe.contentWindow.document.querySelectorAll("img").forEach((function(e){e.setAttribute("data-src",e.src),e.removeAttribute("src")})),iframe.contentWindow.document.querySelectorAll("iframe").forEach((function(e){new URL(e.src).hostname!=new URL(window.location.origin).hostname&&e.removeAttribute("src")}))}catch(e){}}),1),$("#mainwin").window("window").css("z-index",++$.fn.window.defaults.zIndex),$("#winiframe_"+thread_id).window("window").css("z-index",--$.fn.window.defaults.zIndex),iframe_loaded=!1,iframe.contentWindow.addEventListener("DOMContentLoaded",(function(){console.log("IFrame loaded: "+crawl_url),iframe_loaded=!0})),max_wait=30;case 41:if(iframe_loaded||0==max_wait){_context10.next=48;break}return console.log("Waiting for IFrame to load: "+crawl_url),_context10.next=45,new Promise((function(e){return setTimeout(e,1e3)}));case 45:max_wait--,_context10.next=41;break;case 48:if(iframe_loaded||0!=max_wait){_context10.next=53;break}return console.log("IFrame not loaded thread hang: "+crawl_url),iframe.remove(),$("#winiframe_"+thread_id).window({shadow:!1}).window("window").remove(),_context10.abrupt("return");case 53:if(1==scrape_only){_context10.next=62;break}return document.getElementById("wb-iframe_"+thread_id).contentWindow.window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"}),_context10.next=57,new Promise((function(e){return setTimeout(e,1e3)}));case 57:document.getElementById("wb-iframe_"+thread_id).contentWindow.document.querySelectorAll("a").forEach((function(e){""!=e.href&&(e.href.startsWith("javascript")||e.href.startsWith(window.location.origin)&&db_links.push({url:e.href,text:e.text.replace("\n","").trim(),content:""}))})),console.log("DB Links:",db_links),db_links_unique_rows_by_url=db_links.filter((function(e,t){return t===db_links.findIndex((function(t){return e.url===t.url}))})),db_links=db_links_unique_rows_by_url,console.log("DB Links Unique:",db_links);case 62:($("#wb-is-scrape").checkbox("options").checked||1==scrape_only)&&(console.log("Scraping"),document.getElementById("wb-iframe_"+thread_id).contentWindow.eval("try{ (() => { ".concat(wb_scrape_rule_editor.getValue()," })() }catch(e){ console.log('Error when Scrape ").concat(crawl_url," :',e); }")),scraped_content=document.getElementById("wb-iframe_"+thread_id).contentWindow.document.body.innerText.replace(/(\r\n|\n|\r){2,}/g,"\n").replace(/((?:[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5F\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7BB\uA7BD\uA7BF\uA7C1\uA7C3\uA7C8\uA7CA\uA7D1\uA7D3\uA7D5\uA7D7\uA7D9\uA7F6\uA7FA\uAB30-\uAB5A\uAB60-\uAB68\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]|\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD837[\uDF00-\uDF09\uDF0B-\uDF1E\uDF25-\uDF2A]|\uD83A[\uDD22-\uDD43]){2})((?:[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1C90-\u1CBA\u1CBD-\u1CBF\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2F\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uA7B8\uA7BA\uA7BC\uA7BE\uA7C0\uA7C2\uA7C4-\uA7C7\uA7C9\uA7D0\uA7D6\uA7D8\uA7F5\uFF21-\uFF3A]|\uD801[\uDC00-\uDC27\uDCB0-\uDCD3\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD81B[\uDE40-\uDE5F]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21]))/g,"$1 $2").trim(),console.log("Scraped Content:",scraped_content),db_links.forEach((function(e){e.url==crawl_url&&(e.content=scraped_content)}))),$("#wb-datagrid-spider").datagrid("loadData",db_links);try{idbStorage.setItem("wb_crawled_links-"+new URL(window.location.href).hostname.replace(".","_"),JSON.stringify(db_links))}catch(e){console.log("Error when save crawled links to idbStorage:",e)}$("#winiframe_"+thread_id).window({shadow:!1}).window("window").remove();case 66:case"end":return _context10.stop()}}),_callee10,null,[[9,18]])}))),_crawl.apply(this,arguments)}}(jQuery)}),4e3)},{}]},{},[1]);