/* Copyright (C) 2023 by WorkerBot.AI */
!function(e){var n=1;e.fn.checkgroup=function(a,t){return"string"==typeof a?e.fn.checkgroup.methods[a](this,t):(a=a||{},this.each((function(){var t=e.data(this,"checkgroup");t?e.extend(t.options,a):t=e.data(this,"checkgroup",{options:e.extend({},e.fn.checkgroup.defaults,e.fn.checkgroup.parseOptions(this),a)}),function(a){var t=(l=e.data(a,"checkgroup")).options;e(a).addClass("checkgroup").empty();var o=e("<div></div>").appendTo(a);"h"==t.dir?(o.addClass("f-row"),o.css("flex-wrap","wrap")):o.addClass("f-column");for(var c=t.name||"checkname"+n++,i=0;i<t.data.length;i++){var h=e('<div class="checkgroup-item f-row f-vcenter f-noshrink"></div>').appendTo(o);t.itemStyle&&h.css(t.itemStyle);var l,r=e("<input>").attr("name",c).appendTo(h);r.checkbox(e.extend({},{labelWidth:t.labelWidth,labelPosition:t.labelPosition,labelAlign:t.labelAlign},t.data[i],{checked:e.inArray(t.data[i].value,t.value)>=0,item:t.data[i],onChange:function(){var n=[];o.find(".checkbox-f").each((function(){var a=e(this).checkbox("options");a.checked&&n.push(a.item.value)})),t.value=n,t.onChange.call(a,n)}})),"auto"==(l=r.data("checkbox")).options.labelWidth&&e(l.label).css("width","auto")}}(this)})))},e.fn.checkgroup.methods={options:function(e){return e.data("checkgroup").options},setValue:function(n,a){return n.each((function(){!function(n,a){var t=e.data(n,"checkgroup").options,o=t.onChange;t.onChange=function(){};var c=e.extend([],t.value).sort().join(",");e(n).find(".checkbox-f").each((function(){var n=e(this).checkbox("options");e.inArray(n.item.value,a)>=0?e(this).checkbox("check"):e(this).checkbox("uncheck")})),t.onChange=o,e.extend([],t.value).sort().join(",")!=c&&t.onChange.call(n,t.value)}(this,a)}))},getValue:function(e){return e.checkgroup("options").value}},e.fn.checkgroup.parseOptions=function(n){return e.extend({},e.parser.parseOptions(n,["dir","name","value","labelPosition","labelAlign",{labelWidth:"number"}]))},e.fn.checkgroup.defaults={dir:"h",name:null,value:[],labelWidth:"",labelPosition:"after",labelAlign:"left",itemStyle:{height:30},onChange:function(e){}}}(jQuery);