/* Copyright (C) 2023 by WorkerBot.AI */
!function(n){function t(t,i){var e=n(t).spinner("options");e.spin.call(t,i),e[i?"onSpinDown":"onSpinUp"].call(t),n(t).spinner("validate")}n.fn.spinner=function(i,e){if("string"==typeof i){var s=n.fn.spinner.methods[i];return s?s(this,e):this.textbox(i,e)}return i=i||{},this.each((function(){var e=n.data(this,"spinner");e?n.extend(e.options,i):e=n.data(this,"spinner",{options:n.extend({},n.fn.spinner.defaults,n.fn.spinner.parseOptions(this),i)}),function(i){var e=n.data(i,"spinner"),s=e.options,o=n.extend(!0,[],s.icons);if("left"==s.spinAlign||"right"==s.spinAlign){s.spinArrow=!0,s.iconAlign=s.spinAlign;var r={iconCls:"spinner-button-updown",handler:function(i){var e=n(i.target).closest(".spinner-button-top,.spinner-button-bottom");t(i.data.target,e.hasClass("spinner-button-bottom"))}};"left"==s.spinAlign?o.unshift(r):o.push(r)}else s.spinArrow=!1,"vertical"==s.spinAlign?("top"!=s.buttonAlign&&(s.buttonAlign="bottom"),s.clsLeft="textbox-button-bottom",s.clsRight="textbox-button-top"):(s.clsLeft="textbox-button-left",s.clsRight="textbox-button-right");if(n(i).addClass("spinner-f").textbox(n.extend({},s,{icons:o,doSize:!1,onResize:function(t,i){if(!s.spinArrow){var e=n(this).next(),o=e.find(".textbox-button:not(.spinner-button)");if(o.length){var r=o.outerWidth(),p=o.outerHeight(),a=e.find(".spinner-button."+s.clsLeft),l=e.find(".spinner-button."+s.clsRight);"right"==s.buttonAlign?l.css("marginRight",r+"px"):"left"==s.buttonAlign?a.css("marginLeft",r+"px"):"top"==s.buttonAlign?l.css("marginTop",p+"px"):a.css("marginBottom",p+"px")}}s.onResize.call(this,t,i)}})),n(i).attr("spinnerName",n(i).attr("textboxName")),e.spinner=n(i).next(),e.spinner.addClass("spinner"),s.spinArrow)e.spinner.find(".spinner-button-updown").append('<span class="spinner-arrow spinner-button-top"><span class="spinner-arrow-up"></span></span><span class="spinner-arrow spinner-button-bottom"><span class="spinner-arrow-down"></span></span>');else{var p=n('<a href="javascript:;" class="textbox-button spinner-button" tabindex="-1"></a>').addClass(s.clsLeft).appendTo(e.spinner),a=n('<a href="javascript:;" class="textbox-button spinner-button" tabindex="-1"></a>').addClass(s.clsRight).appendTo(e.spinner);p.linkbutton({iconCls:s.reversed?"spinner-button-up":"spinner-button-down",onClick:function(){t(i,!s.reversed)}}),a.linkbutton({iconCls:s.reversed?"spinner-button-down":"spinner-button-up",onClick:function(){t(i,s.reversed)}}),s.disabled&&n(i).spinner("disable"),s.readonly&&n(i).spinner("readonly")}n(i).spinner("resize")}(this)}))},n.fn.spinner.methods={options:function(t){var i=t.textbox("options");return n.extend(n.data(t[0],"spinner").options,{width:i.width,value:i.value,originalValue:i.originalValue,disabled:i.disabled,readonly:i.readonly})}},n.fn.spinner.parseOptions=function(t){return n.extend({},n.fn.textbox.parseOptions(t),n.parser.parseOptions(t,["min","max","spinAlign",{increment:"number",reversed:"boolean"}]))},n.fn.spinner.defaults=n.extend({},n.fn.textbox.defaults,{min:null,max:null,increment:1,spinAlign:"right",reversed:!1,spin:function(n){},onSpinUp:function(){},onSpinDown:function(){}})}(jQuery);