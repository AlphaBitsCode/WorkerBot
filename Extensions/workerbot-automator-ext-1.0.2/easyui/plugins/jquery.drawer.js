/* Copyright (C) 2023 by WorkerBot.AI */
!function(a){function o(o){var t=a.data(o,"drawer").options;if(0!=t.onBeforeCollapse.call(o)){var e=a(o).dialog("dialog").width();a(o).show().css({display:""}).dialog("dialog").animate({left:"east"==t.region?"auto":-e,right:"east"==t.region?-e:"auto"},(function(){a(this).addClass("layout-collapsed");var e=a(o).data("window").mask;a(e).hide(),t.collapsed=!0,t.onCollapse.call(this)}))}}a.fn.drawer=function(t,e){if("string"==typeof t){var i=a.fn.drawer.methods[t];return i?i(this,e):this.dialog(t,e)}t=t||{},this.each((function(){var e=a.data(this,"drawer");if(e)a.extend(e.options,t);else{var i=a.extend({},a.fn.drawer.defaults,a.fn.drawer.parseOptions(this),t);a.data(this,"drawer",{options:i})}!function(t){var e=a.data(t,"drawer").options;a(t).dialog(a.extend({},e,{cls:"drawer f-column window-shadow layout-panel layout-collapsed layout-panel-"+e.region,bodyCls:"f-full",collapsed:!1,top:0,left:"auto",right:"auto"})),a(t).dialog("header").find(".panel-tool-collapse").addClass("layout-button-"+("east"==e.region?"right":"left"))._unbind()._bind("click",(function(){o(t)}));var i=a(t).dialog("dialog").width();a(t).dialog("dialog").css({display:"",left:"east"==e.region?"auto":-i,right:"east"==e.region?-i:"auto"});var n=a(t).data("window").mask;a(n).addClass("drawer-mask").hide()._unbind()._bind("click",(function(){o(t)}))}(this)}))},a.fn.drawer.methods={options:function(o){var t=a.data(o[0],"drawer").options;return a.extend(o.dialog("options"),{region:t.region,collapsed:t.collapsed})},expand:function(o){return o.each((function(){!function(o){var t=a.data(o,"drawer").options;if(0!=t.onBeforeExpand.call(o)){a(o).dialog("dialog").width();var e=a(o).data("window").mask;a(e).show(),a(o).show().css({display:""}).dialog("dialog").animate({left:"east"==t.region?"auto":0,right:"east"==t.region?0:"auto"},(function(){a(this).removeClass("layout-collapsed"),t.collapsed=!1,t.onExpand.call(o)}))}}(this)}))},collapse:function(a){return a.each((function(){o(this)}))}},a.fn.drawer.parseOptions=function(o){return a.extend({},a.fn.dialog.parseOptions(o),a.parser.parseOptions(o,["region"]))},a.fn.drawer.defaults=a.extend({},a.fn.dialog.defaults,{border:!1,region:"east",title:null,shadow:!1,fixed:!0,collapsed:!0,closable:!1,modal:!0,draggable:!1})}(jQuery);