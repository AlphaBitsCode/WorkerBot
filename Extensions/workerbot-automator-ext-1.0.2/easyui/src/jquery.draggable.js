/* Copyright (C) 2023 by WorkerBot.AI */
!function(t){function a(a){var e=t.data(a.data.target,"draggable"),r=e.options,n=e.proxy,d=a.data,o=d.startLeft+a.pageX-d.startX,g=d.startTop+a.pageY-d.startY;n&&(n.parent()[0]==document.body?(o=null!=r.deltaX&&null!=r.deltaX?a.pageX+r.deltaX:a.pageX-a.data.offsetWidth,g=null!=r.deltaY&&null!=r.deltaY?a.pageY+r.deltaY:a.pageY-a.data.offsetHeight):(null!=r.deltaX&&null!=r.deltaX&&(o+=a.data.offsetWidth+r.deltaX),null!=r.deltaY&&null!=r.deltaY&&(g+=a.data.offsetHeight+r.deltaY))),a.data.parent!=document.body&&(o+=t(a.data.parent).scrollLeft(),g+=t(a.data.parent).scrollTop()),"h"==r.axis?d.left=o:("v"==r.axis||(d.left=o),d.top=g)}function e(a){var e=t.data(a.data.target,"draggable"),r=e.options,n=e.proxy;n||(n=t(a.data.target)),n.css({left:a.data.left,top:a.data.top}),t("body").css("cursor",r.cursor)}function r(r){if(!t.fn.draggable.isDragging)return!1;var n=t.data(r.data.target,"draggable"),d=n.options,o=t(".droppable:visible").filter((function(){return r.data.target!=this})).filter((function(){var a=t.data(this,"droppable").options.accept;return!a||t(a).filter((function(){return this==r.data.target})).length>0}));n.droppables=o;var g=n.proxy;return g||(d.proxy?(g="clone"==d.proxy?t(r.data.target).clone().insertAfter(r.data.target):d.proxy.call(r.data.target,r.data.target),n.proxy=g):g=t(r.data.target)),g.css("position","absolute"),a(r),e(r),d.onStartDrag.call(r.data.target,r),!1}function n(r){if(!t.fn.draggable.isDragging)return!1;var n=t.data(r.data.target,"draggable");a(r),0!=n.options.onDrag.call(r.data.target,r)&&e(r);var d=r.data.target;return n.droppables.each((function(){var a=t(this);if(!a.droppable("options").disabled){var e=a.offset();r.pageX>e.left&&r.pageX<e.left+a.outerWidth()&&r.pageY>e.top&&r.pageY<e.top+a.outerHeight()?(this.entered||(t(this).trigger("_dragenter",[d]),this.entered=!0),t(this).trigger("_dragover",[d])):this.entered&&(t(this).trigger("_dragleave",[d]),this.entered=!1)}})),!1}function d(a){if(!t.fn.draggable.isDragging)return o(),!1;n(a);var e,r,d=t.data(a.data.target,"draggable"),g=d.proxy,i=d.options;(i.onEndDrag.call(a.data.target,a),i.revert)?1==l()?t(a.data.target).css({position:a.data.startPosition,left:a.data.startLeft,top:a.data.startTop}):g?(g.parent()[0]==document.body?(e=a.data.startX-a.data.offsetWidth,r=a.data.startY-a.data.offsetHeight):(e=a.data.startLeft,r=a.data.startTop),g.animate({left:e,top:r},(function(){s()}))):t(a.data.target).animate({left:a.data.startLeft,top:a.data.startTop},(function(){t(a.data.target).css("position",a.data.startPosition)})):(t(a.data.target).css({position:"absolute",left:a.data.left,top:a.data.top}),l());function s(){g&&g.remove(),d.proxy=null}function l(){var e=!1;return d.droppables.each((function(){var r=t(this);if(!r.droppable("options").disabled){var n=r.offset();return a.pageX>n.left&&a.pageX<n.left+r.outerWidth()&&a.pageY>n.top&&a.pageY<n.top+r.outerHeight()?(i.revert&&t(a.data.target).css({position:a.data.startPosition,left:a.data.startLeft,top:a.data.startTop}),t(this).triggerHandler("_drop",[a.data.target]),s(),e=!0,this.entered=!1,!1):void 0}})),e||i.revert||s(),e}return i.onStopDrag.call(a.data.target,a),o(),!1}function o(){t.fn.draggable.timer&&(clearTimeout(t.fn.draggable.timer),t.fn.draggable.timer=void 0),t(document)._unbind(".draggable"),t.fn.draggable.isDragging=!1,setTimeout((function(){t("body").css("cursor","")}),100)}t.fn.draggable=function(a,e){return"string"==typeof a?t.fn.draggable.methods[a](this,e):this.each((function(){var e,o=t.data(this,"draggable");o?(o.handle._unbind(".draggable"),e=t.extend(o.options,a)):e=t.extend({},t.fn.draggable.defaults,t.fn.draggable.parseOptions(this),a||{});var g=e.handle?"string"==typeof e.handle?t(e.handle,this):e.handle:t(this);function i(a){var e=t.data(a.data.target,"draggable"),r=e.handle,n=t(r).offset(),d=t(r).outerWidth(),o=t(r).outerHeight(),g=a.pageY-n.top,i=n.left+d-a.pageX,s=n.top+o-a.pageY,l=a.pageX-n.left;return Math.min(g,i,s,l)>e.options.edge}t.data(this,"draggable",{options:e,handle:g}),e.disabled?t(this).css("cursor",""):g._unbind(".draggable")._bind("mousemove.draggable",{target:this},(function(a){if(!t.fn.draggable.isDragging){var e=t.data(a.data.target,"draggable").options;i(a)?t(this).css("cursor",e.cursor):t(this).css("cursor","")}}))._bind("mouseleave.draggable",{target:this},(function(a){t(this).css("cursor","")}))._bind("mousedown.draggable",{target:this},(function(a){if(0!=i(a)){t(this).css("cursor","");var e=t(a.data.target).position(),o=t(a.data.target).offset(),g={startPosition:t(a.data.target).css("position"),startLeft:e.left,startTop:e.top,left:e.left,top:e.top,startX:a.pageX,startY:a.pageY,width:t(a.data.target).outerWidth(),height:t(a.data.target).outerHeight(),offsetWidth:a.pageX-o.left,offsetHeight:a.pageY-o.top,target:a.data.target,parent:t(a.data.target).parent()[0]};t.extend(a.data,g);var s=t.data(a.data.target,"draggable").options;if(0!=s.onBeforeDrag.call(a.data.target,a))return t(document)._bind("mousedown.draggable",a.data,r),t(document)._bind("mousemove.draggable",a.data,n),t(document)._bind("mouseup.draggable",a.data,d),t.fn.draggable.timer=setTimeout((function(){t.fn.draggable.isDragging=!0,r(a)}),s.delay),!1}}))}))},t.fn.draggable.methods={options:function(a){return t.data(a[0],"draggable").options},proxy:function(a){return t.data(a[0],"draggable").proxy},enable:function(a){return a.each((function(){t(this).draggable({disabled:!1})}))},disable:function(a){return a.each((function(){t(this).draggable({disabled:!0})}))}},t.fn.draggable.parseOptions=function(a){var e=t(a);return t.extend({},t.parser.parseOptions(a,["cursor","handle","axis",{revert:"boolean",deltaX:"number",deltaY:"number",edge:"number",delay:"number"}]),{disabled:!!e.attr("disabled")||void 0})},t.fn.draggable.defaults={proxy:null,revert:!1,cursor:"move",deltaX:null,deltaY:null,handle:null,disabled:!1,edge:0,axis:null,delay:100,onBeforeDrag:function(t){},onStartDrag:function(t){},onDrag:function(t){},onEndDrag:function(t){},onStopDrag:function(t){}},t.fn.draggable.isDragging=!1}(jQuery);